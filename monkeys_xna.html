<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "https://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta name="author" content="Prakash Prasad">
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-27962903-1']);
        _gaq.push(['_setDomainName', 'prakashprasad.com']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>
    <link rel="Shortcut Icon" href="https://prakashprasad.com/images/favicon.ico" type="image/x-icon">
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,400|Open+Sans+Condensed:300,300italic&subset=latin,greek,greek-ext,latin-ext"
        rel="stylesheet" type="text/css">
    <link href="main.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="menu_style.css">
    <link rel="stylesheet" href="Libraries/fancybox/jquery.fancybox-1.3.4.css" type="text/css" media="screen">
    <link type="text/css" rel="stylesheet" href="Libraries/syntaxhighlighter/styles/shCoreEclipse.css">

    <title>Monkey of Puppets (C#) - prakashprasad.com</title>

    <script type="text/javascript" src="Libraries/jquery-1.4.3.min.js"></script>
    <script src="Libraries/fancybox/jquery.fancybox-1.3.4.js" type="text/javascript"></script>
    <script type="text/javascript" src="Libraries/jwplayer/jwplayer.js"></script>
    <script type="text/javascript" src="Libraries/syntaxhighlighter/scripts/shCore.js"></script>
    <script type="text/javascript" src="Libraries/syntaxhighlighter/scripts/shBrushCSharp.js"></script>
    <script type="text/javascript">	    SyntaxHighlighter.all();</script>
</head>

<body class="port-body">

    <a href="https://www.prakashprasad.com/blog" target="_blank">
        <div class="port-blog" style="left:55px; top:-5px; "></div>
    </a>

    <a href="https://photo.prakashprasad.com" target="_blank">
        <div class="port-photo" style="left:115px; top:-5px; "></div>
    </a>

    <div class="port-wrap">
        <div class="port-header" onclick="location.href='index.html';" style="cursor:pointer; "></div>

        <div class="nav-bar-container">
            <ul id="navigation-1">
                <li><a href="index.html" title="Home">Home</a></li>
                <li><a href="resume.html" title="Résumé">Résumé</a></li>
                <li><a href="projects.html" title="Projects" class="navigation-sel">Projects</a>
                    <ul class="navigation-2">
                        <li><a href="projects_as.html" title="Actionscript Projects">Actionscript</a></li>
                        <li><a href="projects_cpp.html" title="C++ Projects">C++</a></li>
                        <li><a href="projects_cs.html" title="C# Projects" class="navigation-sel">C#</a></li>
                        <li><a href="projects_java.html" title="Java Projects">Java</a></li>
                        <li><a href="projects_u3d.html" title="Unity 3D Projects">Unity 3D</a></li>
                        <li><a href="projects_u.html" title="Unrealscript Projects">Unrealscript</a></li>
                    </ul>
                </li>
                <li><a href="contact.html" title="Contact">Contact</a></li>
            </ul>
        </div>

        <div class="port-block" style="left:0; top:-36px; ">

            <h1>Monkey of Puppets</h1>

            <h2>Game Description</h2>
            <div class="gamedescription">
                <p>The game was developed as part of the Global Game Jam 2010, where participants have to develop a game
                    within 48 hours. The game’s premise is that the player has to dodge enemies, find the key and get to
                    the door to escape the level. And do it all over again in the next level. The game is build as a 2D
                    tile based world where grass tiles are passable but tiles representing trees are not.</p>
                <p>The only tools available to the player are to hide out of sight of the enemy, and deploy a dummy of
                    himself. In such a case, enemies will not known the difference between player and his dummy, and
                    will attack the closest one of the two, giving ample time for the player to find a new hiding spot.
                    The game has a simple menu system build into it, which takes the player through each level in case
                    of success or allows him to player the same level again if he failed to clear it in the earlier
                    attempt.</p>
            </div>

            <h2>Programming Challenges</h2>
            <div class="programmingchallenge">
                <p>The general challenge in such a project is the lack of time (and sleep) to pay attention to each
                    feature and polish the product. However, the team working on Monkey of Puppets worked very well
                    together and we had the basic game running fairly early, allowing the game to be tested very
                    thoroughly. I personally had a hard time setting up a state management system to handle the game’s
                    menu and sound events. Depending on the game’s events, a unified state would be computed in the root
                    class, which the audio &amp; menu system would listen to and respond accordingly.</p>
            </div>

            <h2>Features</h2>
            <div class="features">
                <ul>
                    <li>2D tile-based engine for the game using XNA Framework</li>
                    <li>Player, key and door classes deriving from the parent Entity class</li>
                    <li>Unified state management system for handling game and audio events</li>
                    <li>Game menu system to proceed through the game levels</li>
                    <li>Bot AI allowing them line-of-sight and ability to track to a position</li>
                </ul>
            </div>

            <h2>Video</h2>
            <div class="videotrailer" style="width:720px; ">
                <video src="images/monkeys_xna/video/monkey_video.mp4" width="720" height="405" id="container"
                    volume="100" autostart="false" poster="images/monkeys_xna/video/poster.png">
                </video>

                <script type="text/javascript">
                    jwplayer("container").setup({
                        flashplayer: "Libraries/jwplayer/player.swf"
                    });
                </script>
            </div>

            <h2>Screenshots</h2>
            <div class="screenshots">

                <a rel="Gal-scbwai" title="Player was caught by the enemy, option to try level again"
                    href="images/monkeys_xna/MonkeyOfPuppets1.png"><img border="0" alt=""
                        src="images/monkeys_xna/thumbs/MonkeyOfPuppets1_s.png"></a>
                <a rel="Gal-scbwai" title="Player deploying dummy to confuse enemy"
                    href="images/monkeys_xna/MonkeyOfPuppets2.png"><img border="0" alt=""
                        src="images/monkeys_xna/thumbs/MonkeyOfPuppets2_s.png"></a>
                <a rel="Gal-scbwai" title="Enemy lost track of player, returning to original spot"
                    href="images/monkeys_xna/MonkeyOfPuppets3.png"><img border="0" alt=""
                        src="images/monkeys_xna/thumbs/MonkeyOfPuppets3_s.png"></a>

                <script type="text/javascript">
                    $(document).ready(function () {

                        $("a[rel=Gal-scbwai]").fancybox({
                            'transitionIn': 'elastic',
                            'transitionOut': 'fade',
                            'titlePosition': 'over',
                            'titleFormat': function (title, currentArray, currentIndex, currentOpts) {
                                return '<span id="fancybox-title-over">Image ' + (currentIndex + 1) + ' / ' + currentArray.length + (title.length ? ' &nbsp; ' + title : '') + '</span>';
                            }
                        });

                    });
                </script>

            </div>

            <h2>Code Sample</h2>
            <p style="margin-right:30px; margin-left:30px; ">Development workflow involved level designers formulating
                the level layout on a text file. This file is processed by the TileLayer class in the code where tile
                types, entity locations and textures are loaded, as shown in the code snippet below:</p>
            <div class="codeblock">
                <pre class="brush: csharp;">public TileLayer FromFile(ContentManager content, string fileName)
{
    TileLayer tileLayer;
    bool readingPassable = false;
    bool readingNonPassable = false;
    bool readingLevelMap = false;
    List&lt;TextureType&gt; textureNames = new List&lt;TextureType&gt;();
    List&lt;List&lt;int&gt;&gt; tempLayout = new List&lt;List&lt;int&gt;&gt;();
    List&lt;int&gt; passTiles = new List&lt;int&gt;();
    List&lt;int&gt; nonpassTiles = new List&lt;int&gt;();

    using (StreamReader reader = new StreamReader(fileName))
    {
        while (!reader.EndOfStream)
        {
            string line = reader.ReadLine().Trim();

            if (string.IsNullOrEmpty(line))
                continue;

            if (line.Contains("[Passable]"))
            {
                readingPassable = true;
                readingNonPassable = false;
                readingLevelMap = false;
            }
            else if (line.Contains("[NonPassable]"))
            {
                readingPassable = false;
                readingNonPassable = true;
                readingLevelMap = false;
            }
            else if (line.Contains("[LevelMap]"))
            {
                readingPassable = false;
                readingNonPassable = false;
                readingLevelMap = true;
            }
            else if (line.Contains("[Character]") ||
                line.Contains("[Enemy]") ||
                line.Contains("[Pickups]"))
            {
                readingPassable = false;
                readingNonPassable = false;
                readingLevelMap = false;
            }
            else if (readingPassable || readingNonPassable)
            {
                textureNames.Add(new TextureType(line, readingPassable));
            }
            else if (readingLevelMap)
            {
                List&lt;int&gt; row = new List&lt;int&gt;();

                string[] cells = line.Split(' ');

                foreach (string c in cells)
                {
                    if (!string.IsNullOrEmpty(c))
                        row.Add(int.Parse(c));
                }

                tempLayout.Add(row);
            }
        }
    }

    int width = tempLayout[0].Count;
    int height = tempLayout.Count;

    tileLayer = new TileLayer(width, height);

    for (int y = 0; y &lt; height; y++)
        for (int x = 0; x &lt; width; x++)
            tileLayer.SetCellIndex(x, y, tempLayout[y][x]);

    tileLayer.LoadTileTextures(content, textureNames);

    return tileLayer;
}
</pre>
            </div>

            <h2>Download</h2>
            <div class="downloads">
                <p>Click <a href="downloads/monkeys_xna/monkeyofpuppets_install.rar" class="red">here</a> to dowload the
                    latest version of the game</p>
                <p><strong>Installation Instructions:</strong></p>
                <ul>
                    <li>Extract the downloaded file, and run <em>setup.exe</em></li>
                </ul>
            </div>

            <div class="emptygap">&nbsp;</div>

        </div>

        <div class="port-footer" style="left:0; top:-46px; ">Prakash Prasad © 2011 <strong><big>&middot;</big></strong>
            Copenhagen, Denmark <strong><big>&middot;</big></strong> Contact
            <script
                type="text/javascript">document.write('<a href="mailto:' + 'p' + 'r' + 'a' + 'k' + 'a' + 's' + 'h' + '@' + 'p' + 'r' + 'a' + 'k' + 'a' + 's' + 'h' + 'p' + 'r' + 'a' + 's' + 'a' + 'd' + '.' + 'c' + 'o' + 'm' + '" class="light" >' + 'p' + 'r' + 'a' + 'k' + 'a' + 's' + 'h' + '@' + 'p' + 'r' + 'a' + 'k' + 'a' + 's' + 'h' + 'p' + 'r' + 'a' + 's' + 'a' + 'd' + '.' + 'c' + 'o' + 'm' + '</a>');</script>
            for more details.
        </div>

    </div>

</body>

</html>